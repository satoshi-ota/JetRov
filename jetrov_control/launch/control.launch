<launch>
    <!--ros_serial-->
    <arg name="port" default="/dev/ttyACM1"/>
    <arg name="baud" default="115200"/>
    <!--imu_filter_madgwick-->
    <arg name="use_mag" default="false"/>
    <arg name="publish_tf" default="true"/>

    <node pkg="rosserial_python" type="serial_node.py" name="serial_node">
        <param name="port" value="${arg port}"/>
        <param name="baud" value="${arg baud}"/>
    </node>
    <node pkg="jetrov_control" type="jetrov_controller_node" name="jetrov_controller_node"/>
    <node pkg="jetrov_control" type="dead_reckoning_node" name="dead_reckoning_node"/>
    <node pkg="imu_filter_madgwick" type="imu_filter_madgwick" name="imu_filter_madgwick">
        <param name="use_mag" value="${arg use_mag}"/>
        <param name="publish_tf" value="${arg publish_tf}"/>
        <remap from="imu/data" to="status/imu"/>
    </node>

</launch>
